<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Tu es Belle – Free Wi-Fi</title>
  <style>
    :root{ --bg:#0A0A0A; --panel:#111; --line:#2a2a2a; --gold:#FFD700; --text:#ECECEC; --muted:#9B9B9B; --pad:clamp(12px,2.4vw,22px); --vh:100dvh; }
    *{ box-sizing:border-box; } html,body{ height:100%; }
    body{
      margin:0; color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,'Noto Sans KR',Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:radial-gradient(1200px 600px at 50% -10%, rgba(255,215,0,.08), transparent 60%),
                 radial-gradient(800px 500px at 50% 110%, rgba(255,215,0,.06), transparent 60%), var(--bg);
      padding:max(var(--pad), env(safe-area-inset-top)) max(var(--pad), env(safe-area-inset-right))
              max(var(--pad), env(safe-area-inset-bottom)) max(var(--pad), env(safe-area-inset-left));
      display:grid; place-items:center;
    }
    .frame{ width:min(920px,98vw); background:var(--panel); border:1px solid var(--line); border-radius:18px;
      box-shadow:0 18px 50px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.02); padding:clamp(14px,2.2vw,20px); text-align:center; }
    .brand{ margin:0 0 8px; color:var(--gold); font-weight:800; letter-spacing:.35px; font-size:clamp(16px,2.2vw,20px); }
    .headline{ margin:0; font-weight:800; line-height:1.25; font-size:clamp(18px,2.8vw,26px); }
    .tagline{ margin:8px auto 14px; color:var(--gold); font-weight:700; font-size:clamp(15px,2.6vw,20px); }
    .divider{ height:1px; border:0; margin:14px auto; width:min(88%,720px);
      background:linear-gradient(90deg,transparent,rgba(255,215,0,.55),transparent); position:relative; }
    .divider::after{ content:""; position:absolute; left:50%; top:-6px; transform:translateX(-50%);
      width:90px; height:12px; border-radius:999px; background:radial-gradient(circle, rgba(255,215,0,.55), transparent 70%);
      filter:blur(6px); opacity:.65; pointer-events:none; }
    .video-wrap{ position:relative; margin:0 auto; width:min(860px,96vw); max-height:calc(var(--vh)*0.70);
      border-radius:14px; overflow:hidden; background:#000; box-shadow:0 12px 28px rgba(0,0,0,.55), 0 0 0 1px rgba(255,255,255,.03);
      display:grid; place-items:center; }
    video{ display:block; width:100%; height:auto; max-height:100%; object-fit:contain; background:#000; }
    .foot{ margin:14px auto 0; color:var(--muted); line-height:1.5; font-size:clamp(12px,2.2vw,14px); }
    .link{ color:var(--gold); text-decoration:none; font-weight:800; }
  </style>
</head>
<body>
  <main class="frame" role="main" aria-label="Tu es Belle Free Wi-Fi">
    <p class="brand">Tu es Belle – Premium Hair Salon</p>
    <h1 class="headline">감사합니다, 오늘도 Tu es Belle</h1>
    <p class="tagline">“하늘과 바다보다, 더 아름다운 당신에게”</p>

    <div class="divider" aria-hidden="true"></div>

    <section class="video-wrap" aria-label="홍보 영상">
      <video src="WIFI_OPEN.mp4" autoplay loop muted playsinline preload="metadata">지원되지 않는 브라우저입니다.</video>
    </section>

    <div class="divider" aria-hidden="true"></div>

    <p class="foot">
      영상은 자동으로 반복 재생됩니다. 창이 자동으로 닫히지 않으면 아래를 눌러 주세요.<br />
      <a class="link" href="http://neverssl.com/">인터넷 연결 열기(HTTP)</a>
    </p>
  </main>

  <!-- 실제 뷰포트 높이 보정 -->
  <script>
    function setVH(){ document.documentElement.style.setProperty('--vh', (window.innerHeight||document.documentElement.clientHeight)+'px'); }
    setVH(); addEventListener('resize', setVH); addEventListener('orientationchange', setVH);
  </script>

  <!-- ✅ 포털 자동 종료 유도: OS별 HTTP 검증 URL로 순환 이동 -->
  <script>
    // iOS/macOS, Android, Windows가 연결 완료로 인식하는 대표 HTTP 엔드포인트들
    const CHECKS = [
      "http://captive.apple.com/hotspot-detect.html",   // iOS/macOS
      "http://connectivitycheck.gstatic.com/generate_204", // Android
      "http://clients3.google.com/generate_204",        // Android 구형
      "http://www.msftconnecttest.com/connecttest.txt", // Windows 10+
      "http://www.msftncsi.com/ncsi.txt",               // Windows 구형
      "http://neverssl.com/"                            // 일반 HTTP
    ];

    // 확인 버튼을 끈 상태이므로, 페이지가 열린 뒤 일정 시간 후부터 순차적으로 HTTP로 이동
    const START_AFTER_MS = 12000;   // 시작 지연(12초). 필요시 0~30000 사이로 조절
    const INTERVAL_MS    = 4000;    // 시도 간격

    let i = 0;
    function goNext(){
      const url = CHECKS[i % CHECKS.length] + (CHECKS[i % CHECKS.length].includes("?") ? "&" : "?") + "t=" + Date.now();
      try { location.replace(url); } catch(_){ location.href = url; }
      i++;
    }
    setTimeout(() => {
      goNext();                                 // 첫 시도
      setInterval(goNext, INTERVAL_MS);         // 주기적으로 반복
    }, START_AFTER_MS);

    // 사용자가 다시 화면으로 돌아왔을 때도 한 번 더 시도
    document.addEventListener('visibilitychange', () => { if(!document.hidden) goNext(); });
  </script>
</body>
</html>
